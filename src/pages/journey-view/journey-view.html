<ion-header no-border>
  <ion-navbar color="primary">
    <ion-title>Journey Details</ion-title>
    <ion-buttons left>
      <button ion-button icon-only menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content padding>

    <div padding>
        <ion-segment [(ngModel)]="journeys">
          <ion-segment-button value="journeys">
            Journey
          </ion-segment-button>
          <ion-segment-button value="allocation">
            Allocation
          </ion-segment-button>
        </ion-segment>
      </div>

      <div [ngSwitch]="journeys">


  <ion-list no-lines *ngSwitchCase="'journeys'">
  <p align="center" class="text-muted"> {{ routeSet == true ? 'Route Details:' : 'route missing. Add route below...' }}</p>
  <p class="journeyPara" *ngIf="routeSet">Start:
    <span>{{ start }}</span>
  </p>
  <p class="journeyPara" *ngIf="routeSet">Destination:
    <span>{{ end }}</span>
  </p>

  <ion-item no-lines text-center>
    <button default ion-button round outline (click)="addRoute()">{{btnAddTitle}}</button>
  </ion-item>

  <ion-item>
    <ion-label class="datetime">Start Date</ion-label>
    <ion-datetime displayFormat="DD/MM/YYYY" [(ngModel)]="myDate"></ion-datetime>
  </ion-item>
  <ion-item>
    <ion-label class="datetime">Pick Up Time</ion-label>
    <ion-datetime displayFormat="HH:mm" [(ngModel)]="myTime"></ion-datetime>
  </ion-item>

  <ion-item id="repeatingToggle">
    <ion-label>Repeating Journey</ion-label>
    <ion-toggle [(ngModel)]="repeating"></ion-toggle>
  </ion-item>

  <ion-list id="daysOfWeek" *ngIf="repeating">
    <ion-item>
      <ion-checkbox [(ngModel)]="daysOfWeek.Mon"></ion-checkbox>
      <ion-label>Monday</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="daysOfWeek.Tue"></ion-checkbox>
      <ion-label>Tuesday</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="daysOfWeek.Wed"></ion-checkbox>
      <ion-label>Wednesday</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="daysOfWeek.Thu"></ion-checkbox>
      <ion-label>Thursday</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="daysOfWeek.Fri"></ion-checkbox>
      <ion-label>Friday</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="daysOfWeek.Sat"></ion-checkbox>
      <ion-label>Saturday</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="daysOfWeek.Sun"></ion-checkbox>
      <ion-label>Sunday</ion-label>
    </ion-item>
  </ion-list>

  <ion-list id="luggageWeight">
      <div  *ngIf="userRole.rider">
      <ion-label>
          Luggage Weight (kg)
          <ion-badge item-end>{{luggageWeight}} kg</ion-badge>
    </ion-label>
      <ion-item>
          <ion-range min="0" max="10" [(ngModel)]="luggageWeight" color="secondary">
            <ion-label range-left>0</ion-label>
            <ion-label range-right>10</ion-label>
          </ion-range>
        </ion-item>
        </div>
        <div *ngIf="userRole.driver">
        <ion-label>
            Seats Available
            <ion-badge item-end>{{seatsAvailable}}</ion-badge>
      </ion-label>
        <ion-item>
            <ion-range min="0" max="7" [(ngModel)]="seatsAvailable" color="secondary">
              <ion-label range-left>0</ion-label>
              <ion-label range-right>7</ion-label>
            </ion-range>
          </ion-item>
        </div>
      </ion-list>

      <ion-item id="commentBox">
          <ion-label>Journey Comment</ion-label>
          <ion-textarea [(ngModel)]="comment" name="description" rows="3" columns="25" maxLength="500"></ion-textarea>
      </ion-item>

  <ion-item no-lines text-center>
    <button default ion-button round outline color="danger" (click)="cancelJourney()">Cancel</button>
    <button default ion-button round outline (click)="addJourney()">Confirm</button>
  </ion-item>
  </ion-list>


  <ion-list no-lines *ngSwitchCase="'allocation'">

    <p id="muted" align="center">please confirm journey for journey allocation</p>


    <ion-card>
        <ion-item>
          <ion-avatar item-start>
            <img src="../../assets/img/avatar-poe.png">
          </ion-avatar>
          <h2>John Doe</h2>
          <p>Posted: 15/04/2018</p>
        </ion-item>

        <ion-card-content>
          <p>{{comment}}</p>
          <br />
          <h4>Route Details</h4>
          <p>From: <span>{{start}}</span></p>
          <p>To: <span>{{end}}</span></p>
          <p>pick up: <span>{{myTime}}</span></p>
        </ion-card-content>
      
        <ion-row>
          <ion-col>
            <button ion-button icon-left clear small>
              <ion-icon name="star"></ion-icon>
              <div>4 stars</div>
            </button>   
          </ion-col>
          <ion-col>
            <button id="joinBtn" ion-button outline small right>
             request to join
            </button>
          </ion-col>
        </ion-row>
      
      </ion-card>


  </ion-list>
  </div>

</ion-content>